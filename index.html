
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen-a1ce949a.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-bccf8c07.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-c5541673.js"></script>
  </head>

  <body class="index" data-languages="[&quot;swift&quot;,&quot;objective_c&quot;,&quot;java&quot;,&quot;csharp&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      Kalman Labs
        <div class="lang-selector">
              <a href="#" data-language-name="swift">swift</a>
              <a href="#" data-language-name="objective_c">objective_c</a>
              <a href="#" data-language-name="java">java</a>
              <a href="#" data-language-name="csharp">csharp</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#configuration" class="toc-h1 toc-link" data-title="Configuration">Configuration</a>
          </li>
          <li>
            <a href="#user-tracking" class="toc-h1 toc-link" data-title="User Tracking">User Tracking</a>
          </li>
          <li>
            <a href="#track-event" class="toc-h1 toc-link" data-title="Track Event">Track Event</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#track-purchase-event" class="toc-h2 toc-link" data-title="Track Purchase Event">Track Purchase Event</a>
                  </li>
                  <li>
                    <a href="#track-ads-event-event" class="toc-h2 toc-link" data-title="Track Ads Event Event">Track Ads Event Event</a>
                  </li>
                  <li>
                    <a href="#track-level-progression-event" class="toc-h2 toc-link" data-title="Track Level Progression Event">Track Level Progression Event</a>
                  </li>
                  <li>
                    <a href="#track-custom-event" class="toc-h2 toc-link" data-title="Track Custom Event">Track Custom Event</a>
                  </li>
              </ul>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='#'>Sign Up for a Developer Key</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Welcome to Kalman Analytics API. Your can use this API to access Kalman endpoints and feed data to consult and analyse in your analytics dashboard.</p>

<p>We have language bindings in Objective-C, Swift, Java, and CSharp! You can view code examples in the dark area to the right, and you can switch the programming language of the examples with the tabs in the top right.
Contact support@kalmanlabs.com for more details if you need help setting up your specific project.</p>
<h1 id='configuration'>Configuration</h1>
<blockquote>
<p>To instantiate the SDK, use this code:</p>
</blockquote>
<pre class="highlight objective_c tab-objective_c"><code><span class="c1">// Create a Kalman instance
</span><span class="n">Kalman</span> <span class="o">*</span><span class="n">kalman</span> <span class="o">=</span> <span class="p">[</span><span class="n">Kalman</span> <span class="nf">sharedInstanceWithToken</span><span class="p">:</span><span class="s">@"MY_API_KEY"</span> 
  <span class="nf">AppID</span><span class="p">:</span><span class="s">@"MY_APP_ID"</span><span class="p">];</span>
</code></pre><pre class="highlight swift tab-swift"><code><span class="kt">Kalman</span><span class="o">.</span><span class="nf">initialize</span><span class="p">(</span><span class="nv">token</span><span class="p">:</span> <span class="s">"MY_API_KEY"</span><span class="p">,</span> <span class="nv">appID</span><span class="p">:</span> <span class="s">"MY_APP_ID)
</span></code></pre><pre class="highlight java tab-java"><code><span class="c1">// </span>
<span class="c1">// Initialize the library with your Kalman project token,</span>
<span class="c1">// MY_API_KEY, your API Key, MY_APP_ID and a reference to your</span>
<span class="c1">// application context.</span>
<span class="n">Kalman</span> <span class="n">kalman</span> <span class="o">=</span>
    <span class="n">Kalman</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">context</span><span class="o">,</span> <span class="n">MY_APP_ID</span><span class="o">,</span> <span class="n">MY_API_KEY</span><span class="o">);</span>
</code></pre>
<blockquote>
<p>Make sure to replace <code>MY_API_KEY</code> with your API key and <code>MY_APP_ID</code>.</p>
</blockquote>

<p>Kalman Analytics uses API keys and APP ID to allow access to the API. You can register a new Kalman API key at our <a href="http://kalmanlabs.com/developers">developer portal</a>.</p>
<h1 id='user-tracking'>User Tracking</h1><pre class="highlight objective_c tab-objective_c"><code><span class="c1">// Set customer User ID. Note that if this is not set, a random user uuid will be generated for your player
</span><span class="p">[</span><span class="n">kalman</span> <span class="nf">configureUserId</span><span class="p">:</span><span class="s">@"123"</span><span class="p">];</span>
<span class="p">[</span><span class="n">kalman</span><span class="p">.</span><span class="n">user</span> <span class="nf">set</span><span class="p">:@{</span><span class="s">@"channel"</span><span class="o">:</span> <span class="s">@"campaign_32"</span><span class="p">}];</span>
</code></pre><pre class="highlight swift tab-swift"><code><span class="n">kalman</span><span class="o">.</span><span class="nf">configureUserId</span><span class="p">(</span><span class="nv">userID</span><span class="p">:</span> <span class="s">"1"</span><span class="p">)</span>
<span class="n">kalman</span><span class="o">.</span><span class="nf">registerSuperProperties</span><span class="p">([</span><span class="s">"channel"</span><span class="p">:</span> <span class="s">"campaign_32"</span><span class="p">])</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">kalman</span><span class="o">.</span><span class="na">configureUserId</span><span class="o">(</span><span class="nl">userID:</span> <span class="s">"1"</span><span class="o">)</span>
<span class="n">JSONObject</span> <span class="n">props</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>
<span class="n">props</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"channel"</span><span class="o">,</span> <span class="s">"campaign_32"</span><span class="o">);</span>
<span class="n">kalman</span><span class="o">.</span><span class="na">registerSuperProperties</span><span class="o">(</span><span class="n">props</span><span class="o">);</span>
</code></pre>
<p>Kalman SDK allows you to set user level configuration. This is could used to capture channel of acquisition or some in game characteristics.</p>

<blockquote>
<p>Note that if no userID is set, the user is automatically assigned a uuid.</p>
</blockquote>

<aside class="notice">
You must replace <code>MY_API_KEY</code> and <code>MY_APP_ID</code> with your personal API key.
</aside>
<h1 id='track-event'>Track Event</h1><h2 id='track-purchase-event'>Track Purchase Event</h2><pre class="highlight objective_c tab-objective_c"><code><span class="n">Kalman</span> <span class="o">*</span><span class="n">kalman</span> <span class="o">=</span> <span class="p">[</span><span class="n">Kalman</span> <span class="nf">sharedInstance</span><span class="p">];</span>
<span class="p">[</span><span class="n">kalman</span> <span class="nf">trackPurchaseWithCurrency</span><span class="p">:</span><span class="s">@"USD"</span> 
  <span class="nf">amount</span><span class="p">:</span><span class="mi">999</span>
  <span class="n">itemID</span><span class="o">:</span><span class="s">@"gems"</span>
  <span class="n">quantity</span><span class="o">:</span><span class="mi">20</span><span class="p">];</span>
</code></pre><pre class="highlight swift tab-swift"><code><span class="kt">Kalman</span><span class="o">.</span><span class="nf">trackPurchase</span><span class="p">(</span>
  <span class="nv">currency</span><span class="p">:</span> <span class="s">"USD"</span><span class="p">,</span> 
  <span class="nv">amount</span><span class="p">:</span> <span class="mi">999</span><span class="p">,</span>
  <span class="nv">itemID</span><span class="p">:</span> <span class="s">"gems"</span><span class="p">,</span>
  <span class="nv">quantity</span><span class="p">:</span> <span class="mi">20</span>
<span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">kalman</span><span class="o">.</span><span class="na">trackPurchase</span><span class="o">(</span>
  <span class="s">"USD"</span><span class="o">,</span> 
  <span class="mi">999</span><span class="o">,</span>
  <span class="s">"gems"</span><span class="o">,</span>
  <span class="mi">20</span>
<span class="o">)</span>
</code></pre>
<p>Purchase events are used to track information related to monetization of the app.
When recording a purchase event. You will need to specify the following fields</p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Example</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>optional</td>
<td>50 Gems</td>
<td>Name of the object acquired</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>Optional(default: USD)</td>
<td>USD</td>
<td>Describes the currency using ISO 4217</td>
</tr>
<tr>
<td>itemID</td>
<td>string</td>
<td>optional</td>
<td>gem</td>
<td>Represents the item bought</td>
</tr>
<tr>
<td>quantity</td>
<td>integer</td>
<td>optional</td>
<td>50</td>
<td>the quantity of an item bought</td>
</tr>
</tbody></table>
<h2 id='track-ads-event-event'>Track Ads Event Event</h2><pre class="highlight objective_c tab-objective_c"><code><span class="n">Kalman</span> <span class="o">*</span><span class="n">kalman</span> <span class="o">=</span> <span class="p">[</span><span class="n">Kalman</span> <span class="nf">sharedInstance</span><span class="p">];</span>
<span class="p">[</span><span class="n">kalman</span> <span class="nf">trackAdsEventWitType</span><span class="p">:</span><span class="s">@"rewarded_video"</span>
   <span class="nf">adProvider</span><span class="p">:</span><span class="s">@"unity"</span><span class="p">];</span>
</code></pre><pre class="highlight swift tab-swift"><code><span class="kt">Kalman</span><span class="o">.</span><span class="nf">trackAdsEvent</span><span class="p">(</span>
  <span class="nv">type</span><span class="p">:</span> <span class="s">"rewarded_video"</span><span class="p">,</span> 
  <span class="nv">adProvider</span><span class="p">:</span> <span class="s">"unity"</span>
<span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">kalman</span><span class="o">.</span><span class="na">trackAdsEvent</span><span class="o">(</span>
  <span class="s">"rewarded_video"</span><span class="o">,</span>
  <span class="s">"unity"</span>
<span class="o">)</span>
</code></pre>
<p>Purchase events are used to track information related to monetization of the app.
When recording a purchase event. You will need to specify the following fields</p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Example</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>adType</td>
<td>string</td>
<td>required</td>
<td>&#39;rewarded_ads&#39;</td>
<td>Name of the type of ads</td>
</tr>
<tr>
<td>adProvider</td>
<td>string</td>
<td>optional</td>
<td>&#39;unity&#39;</td>
<td>name of the ads supplier</td>
</tr>
<tr>
<td>metadata</td>
<td>Object</td>
<td>optional</td>
<td></td>
<td>can be used to store any type of metadata</td>
</tr>
</tbody></table>
<h2 id='track-level-progression-event'>Track Level Progression Event</h2><pre class="highlight objective_c tab-objective_c"><code><span class="n">Kalman</span> <span class="o">*</span><span class="n">kalman</span> <span class="o">=</span> <span class="p">[</span><span class="n">Kalman</span> <span class="nf">sharedInstance</span><span class="p">];</span>
<span class="p">[</span><span class="n">kalman</span> <span class="nf">trackProgressionEventWithLevel</span><span class="p">:</span><span class="s">@"level_01_03"</span>
   <span class="nf">status</span><span class="p">:</span><span class="s">@"finished"</span><span class="p">];</span>
</code></pre><pre class="highlight swift tab-swift"><code><span class="kt">Kalman</span><span class="o">.</span><span class="nf">trackProgressionEventWithLevel</span><span class="p">(</span>
  <span class="nv">level</span><span class="p">:</span> <span class="s">"level_01_03"</span><span class="p">,</span> 
  <span class="nv">status</span><span class="p">:</span> <span class="s">"finished"</span>
<span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Kalman</span><span class="o">.</span><span class="na">trackProgressionEvent</span><span class="o">(</span>
  <span class="s">"level_01_03"</span><span class="o">,</span> 
  <span class="s">"finished"</span>
<span class="o">)</span>
</code></pre>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Example</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>level</td>
<td>string</td>
<td>required</td>
<td>&#39;level1&#39;</td>
<td>describes the level completion</td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td>required</td>
<td>&#39;finished&#39;</td>
<td>described the status of a level (started, finished)</td>
</tr>
</tbody></table>
<h2 id='track-custom-event'>Track Custom Event</h2><pre class="highlight objective_c tab-objective_c"><code><span class="n">Kalman</span> <span class="o">*</span><span class="n">kalman</span> <span class="o">=</span> <span class="p">[</span><span class="n">Kalman</span> <span class="nf">sharedInstance</span><span class="p">];</span>
<span class="p">[</span><span class="n">kalman</span> <span class="nf">trackWithEvent</span><span class="p">:</span><span class="s">@"Some Event"</span> <span class="nf">metadata</span><span class="p">:@{</span>
    <span class="s">@"someProperties"</span><span class="o">:</span> <span class="s">@"Test"</span>
<span class="p">}];</span>
</code></pre><pre class="highlight swift tab-swift"><code><span class="n">kalman</span><span class="o">.</span><span class="nf">track</span><span class="p">(</span><span class="nv">event</span><span class="p">:</span> <span class="s">"SomeEvent"</span><span class="p">,</span>
  <span class="nv">metadata</span><span class="p">:</span> <span class="p">[</span><span class="s">"someProperties"</span> <span class="p">:</span> <span class="s">"Test"</span><span class="p">])</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">JSONObject</span> <span class="n">metadata</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>
<span class="n">props</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"channel"</span><span class="o">,</span> <span class="s">"campaign_32"</span><span class="o">);</span>
<span class="n">kalman</span><span class="o">.</span><span class="na">track</span><span class="o">(</span><span class="s">"SomeEvent"</span><span class="o">,</span>
  <span class="n">metadata</span><span class="o">)</span>
</code></pre>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Example</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>event</td>
<td>string</td>
<td>required</td>
<td>&#39;event1&#39;</td>
<td>describes the event you want to track.</td>
</tr>
<tr>
<td>metadata</td>
<td>Object</td>
<td>optional</td>
<td></td>
<td>can be used to store any type of metadata</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="swift">swift</a>
                <a href="#" data-language-name="objective_c">objective_c</a>
                <a href="#" data-language-name="java">java</a>
                <a href="#" data-language-name="csharp">csharp</a>
          </div>
      </div>
    </div>
  </body>
</html>
